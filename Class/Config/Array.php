<?phpif (!class_exists('Objective')){	require_once dirname (__FILE__) . '/../Objective.php';}/** * * @desc Конфиг из массива * @author Юрий * @package IcEngine * */class Config_Array extends Objective{	/**	 *	 * @param array $data	 */	public function __construct (array $data)	{		// Переносим все поля класса в массив _data		$vars = get_class_vars (get_class ($this));		foreach ($vars as $key => $value)		{			if ($key [0] != '_')			{				$this->_data [$key] = $value;				unset ($this->$key);			}		}		foreach ($data as $key => $value)		{			$this->$key = $value;		}	}	/**	 * @inheritdoc	 */	public function __get($key)	{		if (isset ($this->_data [$key])) {			$value = $this->_data[$key];			if (is_string($value) && strpos($value, '::') === 0) {				$pos = strpos($value, '/');				$className = substr($value, 2, $pos - 2);				$path = substr($value, $pos + 1);				$value = Config_Manager::get($className)->get($path);				$this->_data[$key] = $value;			}			return $value;		}		return null;	}	/**	 * @desc Получение конфига на основе базового и изменений.	 * @param array|Objective $base_config	 * @return Objective	 */	public function merge ($base_config)	{		if (is_array ($base_config))		{			$base_config = new Objective ($base_config);		}		$this->_data = array_merge (			$base_config->asArray (),			$this->_data		);		return $this;	}}